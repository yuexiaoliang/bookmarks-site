import{P as G,r as $,c as M,Q as W,w as j,R as ne,d as S,S as s,U as I,V as g,W as l,X as o,Y as K,Z as ae,_ as le,$ as p,a0 as b,E as H,a1 as y,a2 as x,F as k,a as _,a3 as L,a4 as U,a5 as Y,a6 as ie,a7 as ce,m as Z,n as ue,a8 as de,a9 as pe,aa as fe}from"./vendor-DErUT_q0.js";import{p as he}from"./pinyin-pro-BsXuhoYV.js";import{u as me,a as _e,b as ge}from"./vueuse-CUHbnYs5.js";import{k as ke,t as be}from"./lodash-es-DcUU13Lv.js";import{l as ve,m as ye,n as Ce,s as N,o as we}from"./tdesign-icons-vue-next-iaqvHP_0.js";import{B as q,a as Q,S as Ie,C as Be,A as xe,b as Se,D as Re,I as $e,c as He}from"./tdesign-vue-next-yzBSmg4F.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const F=G("bookmarks",()=>{const f=$([]),e=M(()=>{return t(f.value);function t(a,i=[]){return a.forEach(c=>{const{children:m}=c;i.push(c),m&&t(m,i)}),i}}),n=M(()=>e.value.reduce((t,a)=>(t[a.id]=a,t),{}));function u(t){f.value=t.map(i=>a(i));function a(i,c){const{children:m,...h}=i,r={...h,pinyin:he(i.title,{toneType:"none",nonZh:"consecutive",separator:""}).toLocaleLowerCase()};return c&&(r.parentsPath||(r.parentsPath=[]),r.parentsPath.push(...(c==null?void 0:c.parentsPath)||[],c)),Array.isArray(m)&&(r.children=m.map(d=>a(d,r))),r}}return{bookmarks:f,flatBookmarks:e,bookmarksMap:n,setBookmarks:u}}),X={bgColor:"#f2f2f2",textColor:"#333",fontFamily:"BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif",fontSize:14,borderColor:"#eee"},J={asideWidth:240,asideBgColor:"#ffff",asideTextColor:"#999",asideItemColor:"#333",asideActiveItemColor:"#0052d9",asideItemMinHeight:36},ee={headerHeight:48,headerBgColor:"#fff",headerTextColor:"#333",headerTitleFontSize:18},te={searchButtonBgColor:"#f6f6f7",searchButtonHoverBgColor:"#f6f6f7",searchButtonColor:"rgba(60, 60, 67, .78)",searchButtonHoverColor:"rgba(60, 60, 67, .78)",searchButtonHeight:30,searchButtonFontSize:14,searchButtonBorderRadius:5,searchButtonBorderColor:"transparent",searchButtonHoverBorderColor:"#0052d9",searchResultItemBgColor:"#fff",searchResultItemHoverBgColor:"#fff",searchResultItemColor:"#333",searchResultItemHoverColor:"#333",searchResultItemBorderColor:"#f2f2f2",searchResultItemHoverBorderColor:"#0052d9",searchResultItemBorderRadius:5},oe={linkColor:"#555",linkIconColor:"#0052d9",linkBgColor:"#fff",linkMinWidth:0,linkMaxWidth:"100%",linkHeight:32,linkRadius:4,linkBorderColor:"#ccc",linkBorderStyle:"solid",linkBorderWidth:1,linkAlign:"left",linkPaddingLeft:10,linkPaddingRight:10,linkHoverColor:"#0052d9",linkHoverIconColor:"red",linkHoverBgColor:"#0052d913",linkHoverBorderColor:"#0052d9"},re=G("theme-config",()=>{const f=$({...X,...J,...ee,...te,...oe,title:"无限书签",logo:"./logo.png"});return{config:f,title:M(()=>f.value.title),logo:M(()=>f.value.logo)}}),se="b";function Ae(){const f=re(),e=W("default-theme-layout");return{setLayout(){return n(X),n(oe),n(ee),n(te),n(J),e}};function n(t,a=e){Object.keys(t).forEach(i=>{u(i,a,c=>typeof c=="number"?`${c}px`:c)})}function u(t,a,i){const c=`--${se}-${ke(t)}`,m=me(c,a);return j(()=>f.config[t],h=>{setTimeout(()=>{typeof i=="function"?m.value=i(h):m.value=h.toString()},0)},{immediate:!0}),m}}function R(f){return ne(f,{namespace:se,strict:!1})}const E=S({__name:"scrollbar",props:{tag:{default:"div"},scrollbarWidth:{default:5}},setup(f){const e=R("scrollbar");return(n,u)=>(s(),I(ae(n.tag),{class:l(o(e)()),style:K({"--scrollbar-width":n.scrollbarWidth+"px"})},{default:g(()=>[le(n.$slots,"default")]),_:3},8,["class","style"]))}}),Pe=S({__name:"footer",setup(f){const e=R("theme-layout-footer");return(n,u)=>(s(),p("div",{class:l(o(e)())},[b("div",{class:l(o(e)("copyright"))},[H("© "+y(new Date().getFullYear())+" by ",1),u[0]||(u[0]=b("a",{href:"https://bookmarks.wuxian.space",target:"_blank",rel:"noopener noreferrer nofollow"},"wuxianx-bookmarks",-1))],2)],2))}}),De=["id"],Le=["href","title"],Me=["title","onClick"],Fe=S({__name:"main",setup(f){const e=R("theme-layout-main"),n=F(),u=$({}),t=(m,h)=>{const{id:r}=h;u.value[r]||(u.value[r]=[h]),u.value[r].push(m),h.displayedChildren=m.children},a=(m,h)=>{const{id:r}=h,d=u.value[r],B=d.findIndex(A=>A.id===m.id);d.splice(B+1),(d==null?void 0:d.length)<=1?(delete h.displayedChildren,delete u.value[r]):h.displayedChildren=m.children},i=$(),{height:c}=_e(i,{width:0,height:48},{box:"border-box"});return(m,h)=>{const r=ve,d=q,B=Q,A=ye,T=Ie,V=Be;return s(),I(E,{class:l(o(e)())},{default:g(()=>[b("div",{class:l(o(e)("content")),style:K({minHeight:`calc(100% - ${o(c)}px)`})},[(s(!0),p(k,null,x(o(n).bookmarks,(P,z)=>{var C,D;return s(),p(k,null,[(C=P.children)!=null&&C.length?(s(),p("section",{key:0,class:l(o(e)("group"))},[(s(!0),p(k,null,x((D=P.children)==null?void 0:D.filter(v=>!v.url),v=>(s(),p("div",{id:v.id,class:l(o(e)("links"))},[z>0?(s(),p("div",{key:0,class:l(o(e)("group-name"))},y(P.title),3)):L("",!0),_(V,{title:v.title,"header-bordered":""},{default:g(()=>[u.value[v.id]?(s(),I(B,{key:0,style:{"margin-bottom":"10px"}},{default:g(()=>[(s(!0),p(k,null,x(u.value[v.id],(w,O)=>(s(),I(d,{onClick:Ue=>a(w,v)},U({default:g(()=>[H(" "+y(w.title),1)]),_:2},[O===0?{name:"icon",fn:g(()=>[_(r)]),key:"0"}:void 0]),1032,["onClick"]))),256))]),_:2},1024)):L("",!0),_(T,{"break-line":""},{default:g(()=>[(s(!0),p(k,null,x(v.displayedChildren||v.children,w=>(s(),p(k,null,[w.url?(s(),p("a",{key:0,href:w.url,title:w.title,class:l(o(e)("link")),target:"_blank",rel:"noopener noreferrer nofollow"},y(w.title),11,Le)):(s(),p("span",{key:1,title:w.title,class:l(o(e)("link")),onClick:O=>t(w,v)},[_(A),H(" "+y(w.title),1)],10,Me))],64))),256))]),_:2},1024)]),_:2},1032,["title"])],10,De))),256))],2)):L("",!0)],64)}),256))],6),_(Pe,{ref_key:"footerRef",ref:i},null,512)]),_:1},8,["class"])}}}),Te={key:0,class:"t-anchor__item"},Ve=["href","title"],ze=S({__name:"aside",setup(f){const e=R("theme-layout-aside"),n=F(),u=({e:t})=>{t.preventDefault()};return(t,a)=>{const i=Ce,c=Se,m=xe;return s(),I(E,{ref:"default-theme-aside",class:l(o(e)())},{default:g(()=>[_(m,{class:l(o(e)("anchor")),bounds:50,container:".b-theme-layout__main",onClick:u},{default:g(()=>[(s(!0),p(k,null,x(o(n).bookmarks,h=>{var r;return s(),p(k,null,[(r=h.children)!=null&&r.length?(s(),p("div",{key:0,class:l(o(e)("group"))},[b("div",{class:l(o(e)("group-name"))},y(h.title),3),b("nav",{class:l(o(e)("group-nav")),container:".b-theme-layout__main"},[(s(!0),p(k,null,x(h.children,d=>(s(),p(k,null,[d.url?(s(),p("div",Te,[b("a",{href:d.url,title:d.title,class:"t-anchor__item-link",target:"_blank",rel:"noopener noreferrer nofollow"},[H(y(d.title)+" ",1),_(i)],8,Ve)])):(s(),I(c,{key:1,href:`#${d.id}`,title:d.title},null,8,["href","title"]))],64))),256))],2)],2)):L("",!0)],64)}),256))]),_:1},8,["class"])]),_:1},8,["class"])}}}),Ee=["href"],Oe=S({__name:"search",props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:["update:visible"],setup(f){const e=R("search"),n=Y(),u=F(),t=ie(f,"visible"),{ctrl_k:a}=ge({passive:!1,onEventFired(r){r.ctrlKey&&r.key==="k"&&r.type==="keydown"&&r.preventDefault()}});ce(a,()=>{t.value=!t.value});const i=W("keyword-input"),c=$("");j(t,async r=>{var d;if(!r){c.value="";return}await ue(),(d=i.value)==null||d.focus()});const m=be(r=>{c.value=r},80),h=M(()=>c.value?u.flatBookmarks.filter(r=>{var B;return(r.title.includes(c.value)||((B=r==null?void 0:r.pinyin)==null?void 0:B.includes(c.value.toLocaleLowerCase())))&&r.url}):[]);return(r,d)=>{const B=N,A=N,T=$e,V=q,P=Q,z=Re;return s(),p(k,null,[b("button",{class:l(o(e)()),onClick:d[0]||(d[0]=C=>t.value=!0)},[_(B),b("span",{class:l(o(e)("text"))},"搜索",2),b("b",{class:l(o(e)("key"))},"Ctrl K",2)],2),_(z,Z({visible:t.value,"onUpdate:visible":d[1]||(d[1]=C=>t.value=C)},o(n),{"close-btn":!1,header:!1,footer:!1,width:"600px",attach:"body",class:o(e)("dialog")}),{default:g(()=>[_(T,{ref:"keyword-input",value:c.value,placeholder:"请输入名称 or 拼音",size:"large",class:l(o(e)("input")),clearable:"",onChange:o(m)},U({prefixIcon:g(()=>[_(A)]),_:2},[h.value.length?{name:"suffix",fn:g(()=>[H(" 共 "+y(h.value.length)+" 条结果 ",1)]),key:"0"}:void 0]),1032,["value","class","onChange"]),_(E,{class:l(o(e)("result-list")),"scrollbar-width":0},{default:g(()=>[(s(!0),p(k,null,x(h.value,C=>{var D;return s(),p("a",{href:C.url,target:"_blank",class:l(o(e)("result-list__item"))},[b("span",null,y(C.title),1),(D=C.parentsPath)!=null&&D.length?(s(),I(P,{key:0},{default:g(()=>[(s(!0),p(k,null,x(C.parentsPath,v=>(s(),I(V,{disabled:""},{default:g(()=>[H(y(v.title),1)]),_:2},1024))),256))]),_:2},1024)):L("",!0)],10,Ee)}),256))]),_:1},8,["class"])]),_:1},16,["visible","class"])],64)}}}),Ne=["src"],Ge=S({__name:"header",setup(f){const e=Y(),n=R("theme-layout-header"),u=re(),{logo:t,title:a}=de(u);return(i,c)=>(s(),p("div",Z(o(e),{class:o(n)()}),[b("img",{class:l(o(n)("logo")),src:o(t),alt:"logo"},null,10,Ne),b("h1",{class:l(o(n)("title"))},y(o(a)),3),_(Oe)],16))}}),We=S({__name:"layout",setup(f){const e=R("theme-layout");Ae().setLayout();const n=$(!1);return(u,t)=>{const a=we,i=He;return s(),p("div",{ref:"default-theme-layout",class:l(o(e)())},[_(Ge,{class:l(o(e)("header"))},null,8,["class"]),_(ze,{class:l([o(e)("aside"),{"is-fold":n.value}])},null,8,["class"]),_(Fe,{class:l(o(e)("main"))},null,8,["class"]),b("span",{class:l([o(e)("aside-toggle"),{"is-fold":n.value}]),onClick:t[0]||(t[0]=c=>n.value=!n.value)},[_(a)],2),_(i,{theme:"primary",size:"small",container:".b-theme-layout__main",class:l(o(e)("back-top"))},null,8,["class"])],2)}}}),je=S({__name:"App",setup(f){return(e,n)=>(s(),I(We))}}),Ke=[{id:"1",parentId:"0",title:"书签栏",children:[{id:"361",parentId:"1",title:"Google",url:"https://www.google.com/"},{id:"363",parentId:"1",title:"GitHub",url:"https://github.com/"},{id:"343",parentId:"1",title:"OpenProjects",children:[{id:"349",parentId:"343",title:"wuxianx-charts",url:"https://github.com/wuxian-space/wuxianx-charts"},{id:"353",parentId:"343",title:"wuxianx-bookmarks",url:"https://github.com/wuxian-space/wuxianx-bookmarks"},{id:"346",parentId:"343",title:"Rolldown",url:"https://github.com/rolldown/rolldown"},{id:"347",parentId:"343",title:"webextension-polyfill",url:"https://github.com/mozilla/webextension-polyfill"},{id:"348",parentId:"343",title:"monaco-editor",url:"https://github.com/microsoft/monaco-editor"},{id:"350",parentId:"343",title:"drawio",url:"https://github.com/jgraph/drawio"}]},{id:"344",parentId:"1",title:"Docs",children:[{id:"345",parentId:"344",title:"GitHub Docs",url:"https://docs.github.com/en"},{id:"354",parentId:"344",title:"Markdown Guide",url:"https://www.markdownguide.org/"},{id:"364",parentId:"344",title:"Rust Docs",url:"https://www.rustwiki.org.cn/en/"},{id:"356",parentId:"344",title:"Typescript Book",url:"https://gibbok.github.io/typescript-book/zh-cn/"},{id:"357",parentId:"344",title:"MongoDB Node Driver",url:"https://www.mongodb.com/docs/drivers/node/current/"},{id:"358",parentId:"344",title:"MongoDB Manual",url:"https://www.mongodb.com/docs/manual/"},{id:"359",parentId:"344",title:"Extensions / Get started  |  Chrome for Developers",url:"https://developer.chrome.com/docs/extensions/get-started"},{id:"360",parentId:"344",title:"Chrome for Developers",url:"https://developer.chrome.com/"}]}]},{id:"2",parentId:"0",title:"其他书签",children:[]}];pe(je,async f=>{const{app:e}=f,n=fe();e.use(n),F().setBookmarks(Ke)});
