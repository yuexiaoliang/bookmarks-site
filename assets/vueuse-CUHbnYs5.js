import{c as R,r as A,I as V,w as M,f as B,J as y,K as L,L as W,M as E,N as z,O as K,o as D,g as I}from"./vendor-DErUT_q0.js";function p(o){var t;const l=y(o);return(t=l==null?void 0:l.$el)!=null?t:l}const S=z?window:void 0;function C(...o){let t,l,i,h;if(typeof o[0]=="string"||Array.isArray(o[0])?([l,i,h]=o,t=S):[t,l,i,h]=o,!t)return L;Array.isArray(l)||(l=[l]),Array.isArray(i)||(i=[i]);const a=[],r=()=>{a.forEach(s=>s()),a.length=0},u=(s,e,n,w)=>(s.addEventListener(e,n,w),()=>s.removeEventListener(e,n,w)),v=M(()=>[p(t),y(h)],([s,e])=>{if(r(),!s)return;const n=W(e)?{...e}:e;a.push(...l.flatMap(w=>i.map(m=>u(s,w,m,n))))},{immediate:!0,flush:"post"}),f=()=>{v(),r()};return E(f),f}function N(){const o=A(!1),t=I();return t&&D(()=>{o.value=!0},t),o}function P(o){const t=N();return R(()=>(t.value,!!o()))}function j(o,t,l={}){const{window:i=S,...h}=l;let a;const r=P(()=>i&&"MutationObserver"in i),u=()=>{a&&(a.disconnect(),a=void 0)},v=R(()=>{const n=y(o),w=(Array.isArray(n)?n:[n]).map(p).filter(K);return new Set(w)}),f=M(()=>v.value,n=>{u(),r.value&&n.size&&(a=new MutationObserver(t),n.forEach(w=>a.observe(w,h)))},{immediate:!0,flush:"post"}),s=()=>a==null?void 0:a.takeRecords(),e=()=>{f(),u()};return E(e),{isSupported:r,stop:e,takeRecords:s}}function $(o,t,l={}){const{window:i=S,initialValue:h,observe:a=!1}=l,r=A(h),u=R(()=>{var f;return p(t)||((f=i==null?void 0:i.document)==null?void 0:f.documentElement)});function v(){var f;const s=y(o),e=y(u);if(e&&i&&s){const n=(f=i.getComputedStyle(e).getPropertyValue(s))==null?void 0:f.trim();r.value=n||h}}return a&&j(u,v,{attributeFilter:["style","class"],window:i}),M([u,()=>y(o)],(f,s)=>{s[0]&&s[1]&&s[0].style.removeProperty(s[1]),v()},{immediate:!0}),M(r,f=>{var s;const e=y(o);(s=u.value)!=null&&s.style&&e&&(f==null?u.value.style.removeProperty(e):u.value.style.setProperty(e,f))}),r}function F(o,t,l={}){const{window:i=S,...h}=l;let a;const r=P(()=>i&&"ResizeObserver"in i),u=()=>{a&&(a.disconnect(),a=void 0)},v=R(()=>{const e=y(o);return Array.isArray(e)?e.map(n=>p(n)):[p(e)]}),f=M(v,e=>{if(u(),r.value&&i){a=new ResizeObserver(t);for(const n of e)n&&a.observe(n,h)}},{immediate:!0,flush:"post"}),s=()=>{u(),f()};return E(s),{isSupported:r,stop:s}}function G(o,t={width:0,height:0},l={}){const{window:i=S,box:h="content-box"}=l,a=R(()=>{var e,n;return(n=(e=p(o))==null?void 0:e.namespaceURI)==null?void 0:n.includes("svg")}),r=A(t.width),u=A(t.height),{stop:v}=F(o,([e])=>{const n=h==="border-box"?e.borderBoxSize:h==="content-box"?e.contentBoxSize:e.devicePixelContentBoxSize;if(i&&a.value){const w=p(o);if(w){const m=w.getBoundingClientRect();r.value=m.width,u.value=m.height}}else if(n){const w=Array.isArray(n)?n:[n];r.value=w.reduce((m,{inlineSize:c})=>m+c,0),u.value=w.reduce((m,{blockSize:c})=>m+c,0)}else r.value=e.contentRect.width,u.value=e.contentRect.height},l);V(()=>{const e=p(o);e&&(r.value="offsetWidth"in e?e.offsetWidth:t.width,u.value="offsetHeight"in e?e.offsetHeight:t.height)});const f=M(()=>p(o),e=>{r.value=e?t.width:0,u.value=e?t.height:0});function s(){v(),f()}return{width:r,height:u,stop:s}}const H={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function U(o={}){const{reactive:t=!1,target:l=S,aliasMap:i=H,passive:h=!0,onEventFired:a=L}=o,r=B(new Set),u={toJSON(){return{}},current:r},v=t?B(u):u,f=new Set,s=new Set;function e(c,d){c in v&&(t?v[c]=d:v[c].value=d)}function n(){r.clear();for(const c of s)e(c,!1)}function w(c,d){var _,x;const b=(_=c.key)==null?void 0:_.toLowerCase(),k=[(x=c.code)==null?void 0:x.toLowerCase(),b].filter(Boolean);b&&(d?r.add(b):r.delete(b));for(const g of k)s.add(g),e(g,d);b==="meta"&&!d?(f.forEach(g=>{r.delete(g),e(g,!1)}),f.clear()):typeof c.getModifierState=="function"&&c.getModifierState("Meta")&&d&&[...r,...k].forEach(g=>f.add(g))}C(l,"keydown",c=>(w(c,!0),a(c)),{passive:h}),C(l,"keyup",c=>(w(c,!1),a(c)),{passive:h}),C("blur",n,{passive:!0}),C("focus",n,{passive:!0});const m=new Proxy(v,{get(c,d,_){if(typeof d!="string")return Reflect.get(c,d,_);if(d=d.toLowerCase(),d in i&&(d=i[d]),!(d in v))if(/[+_-]/.test(d)){const b=d.split(/[+_-]/g).map(O=>O.trim());v[d]=R(()=>b.every(O=>y(m[O])))}else v[d]=A(!1);const x=Reflect.get(c,d,_);return t?y(x):x}});return m}export{G as a,U as b,$ as u};
